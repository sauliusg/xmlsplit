#! /bin/sh
#!perl --*- Perl -*--
eval 'exec perl -x $0 ${1+"$@"}'
    if 0;
#------------------------------------------------------------------------------
#$Author$
#$Date$ 
#$Revision$
#$URL$
#------------------------------------------------------------------------------
#*
#  Split convcatenated XML file stream into separate XML files. Each
#  resulting file will be well-formed if the original files were
#  well-formed before concatenation.
#**

use strict;
use warnings;

my $xml_head = '<?xml ';
local $/ = $xml_head;

while(<>) {
    s/\Q$xml_head\E$//;
    next if $_ eq "";
    print ">>>>\n";
    print $xml_head, $_;
    print "<<<<\n";
}
